<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <title>rtcmem - NodeMCU Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/highlight.css">
  <link href="../../../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "rtcmem";
    var mkdocs_page_input_path = "en/modules/rtcmem.md";
    var mkdocs_page_url = "/en/modules/rtcmem/";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> NodeMCU Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	  
          
		  
  <ul class="" href="../../..">
    <li class="toctree-l1">
  <a class="" href="../../..">Overview</a>
  </li></ul>
          
		  
  <p class="caption">English</p>
  <ul class="current">
          <li class="toctree-l1">
            
  <a class="" href="../../">Home</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../build/">Building the firmware</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../flash/">Flashing the firmware</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../spiffs/">Internal filesystem notes</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../sdcard/">Filesystem on SD card</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../upload/">Uploading code</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="/en/lua-developer-faq">FAQs</a>
        </li>
          <li class="toctree-l1">
            
  <a class="" href="../../support/">Support</a>
        </li>
          <li class="toctree-l1 current">
            
  <a class="current" href="/en/modules/adc">Modules</a>
  <ul class="subnav">
        <li class="toctree-l2 1">
            
  <a class="" href="../adc/">adc</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../ads1115/">ads1115</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../adxl345/">adxl345</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../am2320/">am2320</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../apa102/">apa102</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../bit/">bit</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../bme280/">bme280</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../bmp085/">bmp085</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../cjson/">cjson</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../coap/">coap</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../cron/">cron</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../crypto/">crypto</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../dht/">dht</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../ds18b20/">ds18b20</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../encoder/">encoder</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../enduser-setup/">enduser setup</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../file/">file</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../gdbstub/">gdbstub</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../gpio/">gpio</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../hdc1080/">hdc1080</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../hmc5883l/">hmc5883l</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../http/">http</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../hx711/">hx711</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../i2c/">i2c</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../l3g4200d/">l3g4200d</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../mcp4725/">mcp4725</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../mdns/">mdns</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../mqtt/">mqtt</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../net/">net</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../node/">node</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../ow/">ow (1-Wire)</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../pcm/">pcm</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../perf/">perf</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../pwm/">pwm</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../rc/">rc</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../rfswitch/">rfswitch</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../rotary/">rotary</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../rtcfifo/">rtcfifo</a>
        </li>
        <li class="toctree-l2 current 1">
            
  <a class="current" href="./">rtcmem</a>
  <ul class="subnav">
      
  <li class="toctree-l2 current">
  
    <a class="current"  href="#rtc-user-memory-module">RTC User Memory Module</a>
  
  
    <ul class="">
    
        <li class="toctree-l3 toc-item" >
          <a class="toctree-l3" href="#rtcmemread32">rtcmem.read32()</a>
        </li>
    
        <li class="toctree-l3 toc-item" >
          <a class="toctree-l3" href="#rtcmemwrite32">rtcmem.write32()</a>
        </li>
    
    </ul>
  
  </li>

  </ul>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../rtctime/">rtctime</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../si7021/">si7021</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../sigma-delta/">sigma delta</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../sjson/">sjson</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../sntp/">sntp</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../somfy/">somfy</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../spi/">spi</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../struct/">struct</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../switec/">switec</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../tcs34725/">tcs34725</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../tls/">tls</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../tm1829/">tm1829</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../tmr/">tmr</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../tsl2561/">tsl2561</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../u8g/">u8g</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../uart/">uart</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../ucg/">ucg</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../websocket/">websocket</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../wifi/">wifi</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../wps/">wps</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../ws2801/">ws2801</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../ws2812/">ws2812</a>
        </li>
        <li class="toctree-l2 1">
            
  <a class="" href="../xpt2046/">xpt2046</a>
        </li>
  </ul>
        </li>
  </ul>

          
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">NodeMCU Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>English &raquo;</li>
        
      
        
          <li>Modules &raquo;</li>
        
      
    
    <li>rtcmem</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/nodemcu/nodemcu-firmware/edit/master/docs/en/modules/rtcmem.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="rtc-user-memory-module">RTC User Memory Module<a class="headerlink" href="#rtc-user-memory-module" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th align="left">Since</th>
<th align="left">Origin / Contributor</th>
<th align="left">Maintainer</th>
<th align="left">Source</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">2015-06-25</td>
<td align="left"><a href="https://github.com/DiUS">DiUS</a>, <a href="https://github.com/jmattsson">Johny Mattsson</a></td>
<td align="left"><a href="https://github.com/jmattsson">Johny Mattsson</a></td>
<td align="left"><a href="../../../../app/modules/rtcmem.c">rtcmem.c</a></td>
</tr>
</tbody>
</table>
<p>The rtcmem module provides basic access to the <a href="https://en.wikipedia.org/wiki/Real-time_clock">RTC</a> (Real Time Clock) memory.</p>
<p>The RTC in the ESP8266 contains memory registers which survive a deep sleep, making them highly useful for keeping state across sleep cycles. Some of this memory is reserved for system use, but 128 slots (each 32bit wide) are available for application use. This module provides read and write access to these.</p>
<p>Due to the very limited amount of memory available, there is no mechanism for arbitrating use of particular slots. It is up to the end user to be aware of which memory is used for what, and avoid conflicts. Note that some Lua modules lay claim to certain slots.</p>
<p>This is a companion module to the <a href="../rtctime/">rtctime</a> and <a href="../rtcfifo/">rtcfifo</a> modules.</p>
<h2 id="rtcmemread32">rtcmem.read32()<a class="headerlink" href="#rtcmemread32" title="Permanent link">&para;</a></h2>
<p>Reads one or more 32bit values from RTC user memory.</p>
<h4 id="syntax">Syntax<a class="headerlink" href="#syntax" title="Permanent link">&para;</a></h4>
<p><code>rtcmem.read32(idx [, num])</code></p>
<h4 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h4>
<ul>
<li><code>idx</code> zero-based index to start reading from</li>
<li><code>num</code> number of slots to read (default 1)</li>
</ul>
<h4 id="returns">Returns<a class="headerlink" href="#returns" title="Permanent link">&para;</a></h4>
<p>The value(s) read from RTC user memory.</p>
<p>If <code>idx</code> is outside the valid range [0,127] this function returns nothing.</p>
<p>If <code>num</code> results in overstepping the end of available memory, the function only returns the data from the valid slots.</p>
<h4 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h4>
<pre><code class="lua">val = rtcmem.read32(0) -- Read the value in slot 0
val1, val2 = rtcmem.read32(42, 2) -- Read the values in slots 42 and 43
</code></pre>

<h4 id="see-also">See also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h4>
<p><a href="#rtcmemwrite32"><code>rtcmem.write32()</code></a></p>
<h2 id="rtcmemwrite32">rtcmem.write32()<a class="headerlink" href="#rtcmemwrite32" title="Permanent link">&para;</a></h2>
<p>Writes one or more values to RTC user memory, starting at index <code>idx</code>.</p>
<p>Writing to indices outside the valid range [0,127] has no effect.</p>
<h4 id="syntax_1">Syntax<a class="headerlink" href="#syntax_1" title="Permanent link">&para;</a></h4>
<p><code>rtcmem.write32(idx, val [, val2, ...])</code></p>
<h4 id="parameters_1">Parameters<a class="headerlink" href="#parameters_1" title="Permanent link">&para;</a></h4>
<ul>
<li><code>idx</code> zero-based index to start writing to. Auto-increments if multiple values are given.</li>
<li><code>val</code> value to store (32bit)</li>
<li><code>val2...</code> additional values to store (optional)</li>
</ul>
<h4 id="returns_1">Returns<a class="headerlink" href="#returns_1" title="Permanent link">&para;</a></h4>
<p><code>nil</code></p>
<h4 id="example_1">Example<a class="headerlink" href="#example_1" title="Permanent link">&para;</a></h4>
<pre><code class="lua">rtcmem.write32(0, 53) -- Store the value 53 in slot 0
rtcmem.write32(42, 2, 5, 7) -- Store the values 2, 5 and 7 into slots 42, 43 and 44, respectively.
</code></pre>

<h4 id="see-also_1">See also<a class="headerlink" href="#see-also_1" title="Permanent link">&para;</a></h4>
<p><a href="#rtcmemread32"><code>rtcmem.read32()</code></a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../rtctime/" class="btn btn-neutral float-right" title="rtctime">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../rtcfifo/" class="btn btn-neutral" title="rtcfifo"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/nodemcu/nodemcu-firmware/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../rtcfifo/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../rtctime/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../js/extra.js"></script>
      <script src="../../../search/require.js"></script>
      <script src="../../../search/search.js"></script>

</body>
</html>
